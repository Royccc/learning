<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8">
		<title>IFE JavaScript Task 01</title>
	</head>

	<body>

		<h3>污染城市列表</h3>
		<ul id="aqi-list">
			<!--   
    <li>第一名：福州（样例），10</li>
  	<li>第二名：福州（样例），10</li> -->
		</ul>

		<script type="text/javascript">
			var aqiData = [
				["北京", 90],
				["上海", 50],
				["福州", 10],
				["广州", 50],
				["成都", 90],
				["西安", 100]
			];
			/*
			在注释下方编写代码
			遍历读取aqiData中各个城市的数据
			将空气质量指数大于60的城市显示到aqi-list的列表中
			*/
/*			(function() {
				
				var aList = document.getElementById('aqi-list');
				var arr = ['一', '二', '三', '四', '五','六'];
				
				//排序
				aqiData.sort(function(a, b) {
					return b[1] - a[1];
				});

				//对排序后的数组动态创建
				//第三种	
				var content = [];
				for(var i = 0; i < aqiData.length; i++) {
					if(aqiData[i][1] >= 60) {
						content.push('<li>第' + arr[i] + '名：' + aqiData[i] + '</li>');
					}
				}
				aList.innerHTML = content;
				//第一种
//				for(var i = 0; i < aqiData.length; i++) {
//					if(aqiData[i][1] >= 60) {
//						var aLi = document.createElement('li');
//						aLi.innerHTML += '第' + arr[i] +'名：'+aqiData[i];
//						aList.appendChild(aLi);
//					}
//				}
				//第二种
//				for(var i = 0; i < aqiData.length; i++) {
//					if(aqiData[i][1] >= 60) {
//						aList.innerHTML += '<li>第' + arr[i] + '名：' + aqiData[i]+ '</li>';  
//					}
//				}

			})();*/
			
			//先filter过滤数组，再排序
			(function(){
				var aList = document.getElementById('aqi-list');
				var arr = ['一', '二', '三', '四', '五','六'];
				//选出所有大于60的数组
				var sortCount = aqiData.filter(function(it){
					return it[1]>60;
				});
				//排序
				sortCount.sort(function(a,b){
					return b[1]- a[1];
				})
				
//				var content = [];
				var content = '';
				for(var i = 0; i < sortCount.length; i++) {
//					content.push('<li>第' + arr[i] + '名：' + sortCount[i] + '</li>');
					content += ('<li>第' + arr[i] + '名：' + sortCount[i] + '</li>');
				}
				aList.innerHTML = content;
			
			})();
			
		</script>
		<hr/>
		<p>用了sort顺序排序,push添加元素输出为数组 所以有逗号，</p>
	</body>

</html>